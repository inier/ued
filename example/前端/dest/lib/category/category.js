(function(e,t){typeof define=="function"&&define.amd?define(["$","dialog"],t):typeof exports=="object"?module.exports=t():e.Category=t(window.Zepto||window.jQuery||$,Dialog)})(this,function(e,t){var n=function(){};return n.prototype={init:function(t){this.settings=t||{},this.target=this.settings.target;var n=this;this.url="/src/json/category.json",this.List=[],e.ajax({url:this.url,data:{},type:"post",dataType:"json",success:function(t){if(t.status){var r=t.data;n.List=r;var i=e(".big",n.target);for(var s=0,o=r.length;s<o;s++)i.append('<a data-value="'+r[s].id+'">'+r[s].name+"</a>")}else e.alert(t.msg)}}),this.bindEvent()},bindEvent:function(){var t=this;e(".label",this.target).click(function(){e(".drop-content",t.target).width(e(this).width()).toggle(),e(t.target).toggleClass("active")}),e(this.target).on("mouseover",".big a",function(){var n=e(this).data("value");if(n){e(".small",t.target).show();var r="";for(var i=0,s=t.List.length;i<s;i++)if(t.List[i].id==n)for(var o=0,u=t.List[i].child.length;o<u;o++){var a=t.List[i].child[o];r+='<a data-value="'+a.id+'">'+a.name+"</a>"}e(".small>div",t.target).html(r)}else e(".small",t.target).hide()}),e(this.target).on("click",".small a",function(){var n=e(this).data("value"),r=e(this).html();e(".label span",t.target).html(r),e("#hd_categoryId",t.target).val(n),e(".drop-content",t.target).hide(),e(t.target).removeClass("active")})}},n});